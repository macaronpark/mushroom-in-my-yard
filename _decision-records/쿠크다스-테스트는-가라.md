### 쿠크다스 테스트는 가라

- 문제
  - 함수 이름만 변경해도 **깨지는 테스트가 발생**
  - 같은 기능을 다른 레벨에서 **중복 검증**하게 됨

- 원인
  - 모든 코드/함수를 1:1로 테스트하려는 접근
  - 내부 호출 여부 중심의 검증(구현 결합)

- 고민한 지점/대안
  1. **무엇을 테스트할까?**
     - 사용자/외부 관점에서 꼭 보장해야하는 **동작** 리스트업 해보기
     - 해당 코드가 사용자/외부 입력의 **첫 관문**이면 직접 테스트, 아니면 상위 시나리오에서 간접 테스트
  2. **구현 테스트 vs 동작 테스트**
     - 구현: 'A'하면 B 함수를 호출한다. (내부 구조에 의존)
     - 동작: 'A'하면 C 이벤트/상태 변화/UI가 발생한다. (관찰 가능한 결과에 의존)
  3. **의도한 데이터가 잘 전달되는지를 확인하는 테스트는 구현을 테스트하는 것일까 동작을 테스트하는 것일까?**
     - '구현'과 '동작'의 정의
       - 구현: 최종 결과를 만들어내기 위한 내부 과정 (클래스/함수 호출, 전개 연산자 사용 여부...)
       - 동작: 외부로 관찰되는 최종 결과 (이벤트 호출과 호출 시 전달되는 객체의 최종 형태, 데이터)
     - 동작이 바뀌면 테스트 코드도 바뀌는게 맞다

- 최종 선택
  - **구현 세부사항보다 ‘동작’ 테스트하기**
    - 전: 밭을 클릭하면 `plantNewMushroom()`이 호출되는지 테스트
    - 후: 밭을 클릭하면 버섯 심기 이벤트가 발생하는지 테스트
  - 관련 커밋: [test: 버섯 라이프 사이클을 구현이 아닌 동작 관점으로 테스트하도록 수정](https://github.com/macaronpark/mushroom-in-my-yard/pull/13/commits/b41807c3de4a5c9b078072e3a9b0bda5eb846443)

- 배운 점
  - 모든 코드/함수에 1:1로 테스트를 만들 필요는 없다
  - 작성 전, **보장해야 할 동작**을 적고 **동작 관점 전략**을 정한 뒤 테스트하자
